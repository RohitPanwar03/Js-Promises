<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Callbacks</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <!-- Outermost container -->
    <div class="container">

        <!-- Api calling button -->
        <button onclick="handleCallbackdata()" class="btn">Click me!</button>

        <!-- Data storing Container -->
        <div class="data-container">

            <!-- Post Title -->
            <h3 class="post-title"></h3>

            <!-- Post Body -->
            <p class="post-body"></p>
        </div>

    </div>

    <script>

        const title = document.querySelector(".post-title");
        const body = document.querySelector(".post-body");
        const container = document.querySelector(".data-container")

        // Api calling function

        function handleCallbackdata() {
            container.style.display = "block"
            body.innerHTML = "Callback executed after 5 seconds..."

            body.style.display = "flex"
            body.style.alignItems = "center"
            body.style.justifyContent = "center"
            body.style.fontSize = "20px"

            // DATA URL

            const url = "https://dummyjson.com/posts";

            // Callback function

            const fetchdata = () => {

                fetch(url)
                    .then((res) => res.json())
                    .then((data) => {

                        // Fetching data title and description 

                        title.innerText = `${data.posts[0].title}`
                        body.innerText = `${data.posts[0].body}`
                        body.style = "reset"

                    })
            }

            // SetTimeout to display data after 5 Seconds

            setTimeout(fetchdata, 5000);
        }

    </script>
</body>

</html>